{
  "_id": "6uqn4gNnJLKp47CT",
  "name": "ðŸ’° Lavori Sporchi",
  "type": "script",
  "author": "brancalonia",
  "img": "icons/commodities/treasure/contract-parchment-gold.webp",
  "scope": "global",
  "command": "// Macro per generare e gestire Lavori Sporchi\nif (!game.modules.get('brancalonia-bigat')?.active) {\n  ui.notifications.error('Modulo Brancalonia non attivo!');\n  return;\n}\n\nconst dirtyJobs = game.brancalonia?.DirtyJobs;\nif (!dirtyJobs) {\n  ui.notifications.error('Sistema Lavori Sporchi non disponibile!');\n  return;\n}\n\nnew Dialog({\n  title: 'ðŸ’° Lavori Sporchi',\n  content: `\n    <div style=\"padding: 10px;\">\n      <h3>Cerca un Lavoro Sporco</h3>\n      <div style=\"margin: 10px 0;\">\n        <label for=\"job-type\">Tipo di Lavoro:</label>\n        <select id=\"job-type\" style=\"margin-left: 10px;\">\n          <option value=\"random\">Casuale</option>\n          <option value=\"escort\">Scorta</option>\n          <option value=\"retrieval\">Recupero</option>\n          <option value=\"assassination\">Eliminazione</option>\n          <option value=\"sabotage\">Sabotaggio</option>\n          <option value=\"smuggling\">Contrabbando</option>\n          <option value=\"investigation\">Investigazione</option>\n        </select>\n      </div>\n      <div style=\"margin: 10px 0;\">\n        <label for=\"job-difficulty\">DifficoltÃ :</label>\n        <select id=\"job-difficulty\" style=\"margin-left: 10px;\">\n          <option value=\"random\">Casuale</option>\n          <option value=\"easy\">Facile (50-100 monete)</option>\n          <option value=\"medium\" selected>Media (100-200 monete)</option>\n          <option value=\"hard\">Difficile (200-400 monete)</option>\n          <option value=\"deadly\">Mortale (400+ monete)</option>\n        </select>\n      </div>\n      <div style=\"margin: 10px 0;\">\n        <label for=\"job-employer\">Committente:</label>\n        <select id=\"job-employer\" style=\"margin-left: 10px;\">\n          <option value=\"random\">Casuale</option>\n          <option value=\"noble\">Nobile</option>\n          <option value=\"merchant\">Mercante</option>\n          <option value=\"criminal\">Criminale</option>\n          <option value=\"church\">Chiesa</option>\n          <option value=\"mysterious\">Misterioso</option>\n        </select>\n      </div>\n      <hr>\n      <p style=\"text-align: center; font-style: italic;\">\"Ogni lavoro ha il suo prezzo... e le sue conseguenze.\"</p>\n    </div>\n  `,\n  buttons: {\n    generate: {\n      icon: '<i class=\"fas fa-dice-d20\"></i>',\n      label: 'Genera Lavoro',\n      callback: (html) => {\n        const type = html.find('#job-type').val();\n        const difficulty = html.find('#job-difficulty').val();\n        const employer = html.find('#job-employer').val();\n        \n        dirtyJobs.generateJob({\n          type: type === 'random' ? null : type,\n          difficulty: difficulty === 'random' ? null : difficulty,\n          employer: employer === 'random' ? null : employer\n        });\n      }\n    },\n    active: {\n      icon: '<i class=\"fas fa-list\"></i>',\n      label: 'Lavori Attivi',\n      callback: () => {\n        dirtyJobs.showActiveJobs();\n      }\n    },\n    complete: {\n      icon: '<i class=\"fas fa-check\"></i>',\n      label: 'Completa Lavoro',\n      callback: () => {\n        dirtyJobs.showCompleteJobDialog();\n      }\n    },\n    complications: {\n      icon: '<i class=\"fas fa-exclamation-triangle\"></i>',\n      label: 'Complicazione!',\n      callback: () => {\n        dirtyJobs.rollComplication();\n      }\n    },\n    cancel: {\n      icon: '<i class=\"fas fa-times\"></i>',\n      label: 'Chiudi'\n    }\n  },\n  default: 'generate'\n}).render(true);",
  "folder": null,
  "sort": 100004,
  "ownership": {
    "default": 0
  },
  "flags": {
    "brancalonia-bigat": {
      "category": "jobs"
    }
  },
  "_stats": {
    "systemId": "dnd5e",
    "systemVersion": "3.3.1",
    "coreVersion": "13.0.0",
    "createdTime": 1700000004000,
    "modifiedTime": 1700000004000,
    "lastModifiedBy": "brancalonia"
  },
  "_key": "!macros!brancalonia005",
  "system": {
    "identifier": "000005",
    "source": "Brancalonia"
  },
  "effects": []
}