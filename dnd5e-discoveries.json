{
  "last_check": "2025-09-27T02:05:35.578098",
  "version": "5.1.9",
  "advancement_types": [
    {
      "type": "HitPoints",
      "description": "Hit point advancement per level",
      "required_levels": [
        1
      ],
      "configuration": {}
    },
    {
      "type": "Trait",
      "description": "Grants proficiencies (weapons, saves, skills)",
      "required_levels": [
        1
      ],
      "configuration": {
        "grants": [
          "weapon:simple",
          "save:int",
          "skill:arcana"
        ]
      }
    },
    {
      "type": "ItemGrant",
      "description": "Grants items/features from compendium",
      "required_levels": "varies",
      "configuration": {
        "items": [
          {
            "uuid": "Compendium.system.pack.Item.id",
            "optional": false
          }
        ]
      }
    },
    {
      "type": "AbilityScoreImprovement",
      "description": "ASI at specific levels",
      "required_levels": [
        4,
        8,
        12,
        16,
        19
      ],
      "configuration": {
        "points": 2,
        "fixed": {}
      }
    },
    {
      "type": "ScaleValue",
      "description": "Scaling values (rage uses, cantrips, etc)",
      "required_levels": "varies",
      "configuration": {
        "identifier": "feature-name",
        "type": "number|dice|distance|cr",
        "distance": {
          "units": "ft"
        }
      }
    },
    {
      "type": "ItemChoice",
      "description": "Choose items/spells from list",
      "required_levels": "varies",
      "configuration": {
        "choices": {
          "0": {
            "count": 1,
            "replacement": false
          }
        },
        "type": "spell|feat|feature"
      }
    },
    {
      "type": "Subclass",
      "description": "Subclass selection",
      "required_levels": "varies by class",
      "configuration": {}
    }
  ],
  "item_grant_format": {
    "old_format_string": "Compendium.brancalonia.pack.Item.id",
    "new_format_object": {
      "uuid": "Compendium.brancalonia.pack.Item.id",
      "optional": false
    },
    "implementation_note": "ItemGrant items should be objects with uuid, not strings",
    "example": {
      "_id": "randomid",
      "type": "ItemGrant",
      "configuration": {
        "items": [
          {
            "uuid": "Compendium.brancalonia.brancalonia-features.Item.featureId",
            "optional": false
          }
        ],
        "optional": false,
        "spell": {
          "ability": [],
          "preparation": "",
          "uses": {
            "max": "",
            "per": ""
          }
        }
      },
      "level": 1,
      "title": "Feature Name",
      "icon": "icons/svg/upgrade.svg"
    }
  },
  "spell_progression": {
    "types": {
      "full": "Full caster (Wizard, Cleric, Druid, Bard, Sorcerer)",
      "half": "Half caster (Paladin, Ranger)",
      "third": "Third caster (Eldritch Knight, Arcane Trickster)",
      "pact": "Pact magic (Warlock)",
      "none": "No spellcasting"
    },
    "configuration": {
      "progression": "full|half|third|pact|none",
      "ability": "int|wis|cha",
      "preparation": {
        "mode": "prepared|always|innate",
        "formula": "@abilities.int.mod + @classes.wizard.levels"
      }
    },
    "spell_slots_per_level": {
      "full": {
        "1": [
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        "2": [
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        "3": [
          4,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        "4": [
          4,
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        "5": [
          4,
          3,
          2,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        "20": [
          4,
          3,
          3,
          3,
          3,
          2,
          2,
          1,
          1
        ]
      },
      "half": {
        "1": [
          0,
          0,
          0,
          0,
          0
        ],
        "2": [
          2,
          0,
          0,
          0,
          0
        ],
        "3": [
          3,
          0,
          0,
          0,
          0
        ],
        "5": [
          4,
          2,
          0,
          0,
          0
        ],
        "20": [
          4,
          3,
          3,
          3,
          2
        ]
      },
      "pact": {
        "1": {
          "slots": 1,
          "level": 1
        },
        "2": {
          "slots": 2,
          "level": 1
        },
        "5": {
          "slots": 2,
          "level": 3
        },
        "11": {
          "slots": 3,
          "level": 5
        },
        "20": {
          "slots": 4,
          "level": 5
        }
      }
    }
  },
  "uuid_format": {
    "format": "Compendium.{scope}.{pack}.{documentType}.{id}",
    "examples": {
      "official": "Compendium.dnd5e.classfeatures.Item.gbNo5eVPaqr8IVKL",
      "brancalonia": "Compendium.brancalonia.brancalonia-features.Item.z43pcdx9c9x6fs00"
    },
    "documentTypes": [
      "Item",
      "Actor",
      "Scene",
      "JournalEntry",
      "Macro",
      "RollTable"
    ],
    "validation_regex": "Compendium\\.[^.]+\\.[^.]+\\.(Item|Actor|Scene|JournalEntry|Macro|RollTable)\\.[a-zA-Z0-9]+",
    "notes": [
      "UUID must reference existing items in compendium",
      "DocumentType is usually 'Item' for features, spells, equipment",
      "ID should match the _id field of the referenced document"
    ]
  },
  "technical_notes": [
    {
      "timestamp": "2025-09-27T02:05:35.813916",
      "discovery": "ItemGrant in Brancalonia uses string format but should use object with uuid property"
    },
    {
      "timestamp": "2025-09-27T02:05:35.813932",
      "discovery": "ScaleValue advancement type is missing but critical for features like Sneak Attack, Rage uses"
    },
    {
      "timestamp": "2025-09-27T02:05:35.813934",
      "discovery": "Spell progression configuration is missing from all caster classes"
    },
    {
      "timestamp": "2025-09-27T02:05:35.813936",
      "discovery": "Classes need 20+ ItemGrant advancements for features at each level"
    }
  ],
  "repository_structure": [
    {
      "name": ".editorconfig",
      "type": "file"
    },
    {
      "name": ".eslintrc.json",
      "type": "file"
    },
    {
      "name": ".github",
      "type": "dir"
    },
    {
      "name": ".gitignore",
      "type": "file"
    },
    {
      "name": "CONTRIBUTING.md",
      "type": "file"
    },
    {
      "name": "CONTRIBUTORS.md",
      "type": "file"
    },
    {
      "name": "LICENSE.txt",
      "type": "file"
    },
    {
      "name": "README.md",
      "type": "file"
    },
    {
      "name": "dnd5e.mjs",
      "type": "file"
    },
    {
      "name": "fonts",
      "type": "dir"
    },
    {
      "name": "foundryvtt.json",
      "type": "file"
    },
    {
      "name": "icons",
      "type": "dir"
    },
    {
      "name": "json",
      "type": "dir"
    },
    {
      "name": "lang",
      "type": "dir"
    },
    {
      "name": "less",
      "type": "dir"
    },
    {
      "name": "module",
      "type": "dir"
    },
    {
      "name": "package-lock.json",
      "type": "file"
    },
    {
      "name": "package.json",
      "type": "file"
    },
    {
      "name": "packs",
      "type": "dir"
    },
    {
      "name": "system.json",
      "type": "file"
    },
    {
      "name": "templates",
      "type": "dir"
    },
    {
      "name": "tokens",
      "type": "dir"
    },
    {
      "name": "ui",
      "type": "dir"
    },
    {
      "name": "utils",
      "type": "dir"
    }
  ]
}