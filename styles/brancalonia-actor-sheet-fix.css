/* ================================================ */
/* BRANCALONIA ACTOR SHEET FIX                     */
/* Fix urgenti per layout actor sheet D&D 5e       */
/* ================================================ */

/* Reset e fix base per sheet completa */
.dnd5e.sheet.actor.brancalonia-sheet {
  /* Reset any broken layout */
  overflow: visible !important;
}

/* Fix header principale - NON sovrascrivere il layout base! */
.dnd5e.sheet.actor.brancalonia-sheet .sheet-header {
  /* Mantieni layout default di D&D 5e */
  display: flex !important;
  flex-direction: row !important;
  align-items: flex-start !important;
  padding: 8px !important;
  height: auto !important;
  min-height: auto !important;
  gap: 12px !important;

  /* Stili visivi senza rompere il layout */
  background: linear-gradient(135deg, #F4E4BC 0%, #E7D6AE 100%) !important;
  border-bottom: 2px solid #C9A54A !important;
}

/* Fix portrait/profile - dimensioni corrette */
.dnd5e.sheet.actor.brancalonia-sheet .sheet-header .profile,
.dnd5e.sheet.actor.brancalonia-sheet .sheet-header .profile-img {
  /* Dimensioni standard D&D 5e */
  width: 100px !important;
  height: 100px !important;
  min-width: 100px !important;
  min-height: 100px !important;
  max-width: 100px !important;
  max-height: 100px !important;

  /* Stile visivo */
  border-radius: 50% !important;
  border: 2px solid #C9A54A !important;
  overflow: hidden !important;
  flex-shrink: 0 !important;
}

/* Fix immagine dentro portrait */
.dnd5e.sheet.actor.brancalonia-sheet .sheet-header .profile img,
.dnd5e.sheet.actor.brancalonia-sheet .sheet-header .profile-img img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  object-position: center center !important;
}

/* Fix area header-details */
.dnd5e.sheet.actor.brancalonia-sheet .sheet-header .header-details {
  flex: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 4px !important;
  min-width: 0 !important;
}

/* Fix nome personaggio */
.dnd5e.sheet.actor.brancalonia-sheet .sheet-header .charname,
.dnd5e.sheet.actor.brancalonia-sheet .sheet-header h1 {
  margin: 0 !important;
  padding: 0 !important;
}

.dnd5e.sheet.actor.brancalonia-sheet .sheet-header .charname input,
.dnd5e.sheet.actor.brancalonia-sheet .sheet-header h1 input {
  font-size: 1.5rem !important;
  font-weight: bold !important;
  color: #2B1F14 !important;
  background: transparent !important;
  border: none !important;
  border-bottom: 1px solid rgba(43, 31, 20, 0.3) !important;
  width: 100% !important;
  padding: 2px 4px !important;
}

/* Fix summary (level, class, race, etc) */
.dnd5e.sheet.actor.brancalonia-sheet .sheet-header .summary {
  display: flex !important;
  flex-wrap: wrap !important;
  gap: 8px !important;
  list-style: none !important;
  margin: 0 !important;
  padding: 0 !important;
}

.dnd5e.sheet.actor.brancalonia-sheet .sheet-header .summary li {
  display: flex !important;
  align-items: center !important;
  gap: 4px !important;
  padding: 2px 6px !important;
  background: rgba(255, 255, 255, 0.3) !important;
  border-radius: 4px !important;
  font-size: 0.875rem !important;
}

/* Fix attributes (HP, AC, Speed, etc) */
.dnd5e.sheet.actor.brancalonia-sheet .sheet-header .attributes {
  display: flex !important;
  gap: 8px !important;
  align-items: center !important;
}

.dnd5e.sheet.actor.brancalonia-sheet .sheet-header .attribute {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  padding: 4px 8px !important;
  background: rgba(255, 255, 255, 0.5) !important;
  border-radius: 4px !important;
  border: 1px solid #C9A54A !important;
}

/* Fix sheet navigation tabs */
.dnd5e.sheet.actor.brancalonia-sheet .sheet-navigation {
  border-bottom: 2px solid #C9A54A !important;
  margin: 0 !important;
  padding: 0 !important;
}

.dnd5e.sheet.actor.brancalonia-sheet .sheet-navigation .item {
  padding: 8px 16px !important;
  background: #F3E6CC !important;
  border: 1px solid #D4AF37 !important;
  border-bottom: none !important;
  color: #2B1F14 !important;
}

.dnd5e.sheet.actor.brancalonia-sheet .sheet-navigation .item.active {
  background: #FFFFFF !important;
  border-bottom: 2px solid #FFFFFF !important;
  margin-bottom: -2px !important;
}

/* Fix abilities scores */
.dnd5e.sheet.actor.brancalonia-sheet .abilities {
  display: flex !important;
  justify-content: space-between !important;
  gap: 4px !important;
  padding: 8px !important;
}

.dnd5e.sheet.actor.brancalonia-sheet .ability {
  flex: 1 !important;
  text-align: center !important;
  padding: 8px !important;
  background: linear-gradient(135deg, #F3E6CC 0%, #EFE0BD 100%) !important;
  border: 1px solid #C9A54A !important;
  border-radius: 8px !important;
}

.dnd5e.sheet.actor.brancalonia-sheet .ability .ability-score {
  font-size: 1.5rem !important;
  font-weight: bold !important;
  color: #2B1F14 !important;
}

.dnd5e.sheet.actor.brancalonia-sheet .ability .ability-mod {
  font-size: 1rem !important;
  color: #4A3826 !important;
}

/* Fix skills section */
.dnd5e.sheet.actor.brancalonia-sheet .skills-list {
  padding: 8px !important;
}

.dnd5e.sheet.actor.brancalonia-sheet .skill {
  display: flex !important;
  align-items: center !important;
  padding: 4px 8px !important;
  margin: 2px 0 !important;
  background: rgba(255, 255, 255, 0.3) !important;
  border-radius: 4px !important;
}

.dnd5e.sheet.actor.brancalonia-sheet .skill:hover {
  background: rgba(255, 255, 255, 0.6) !important;
}

/* Fix saving throws */
.dnd5e.sheet.actor.brancalonia-sheet .saves {
  display: flex !important;
  gap: 8px !important;
  padding: 8px !important;
}

.dnd5e.sheet.actor.brancalonia-sheet .save {
  flex: 1 !important;
  text-align: center !important;
  padding: 4px !important;
  background: rgba(255, 255, 255, 0.4) !important;
  border: 1px solid #C9A54A !important;
  border-radius: 4px !important;
}

/* Elementi Brancalonia specifici */
.dnd5e.sheet.actor.brancalonia-sheet .infamia-tracker,
.dnd5e.sheet.actor.brancalonia-sheet .baraonda-tracker {
  margin: 8px !important;
  padding: 12px !important;
  background: linear-gradient(135deg, #8B4513 0%, #C68E3F 100%) !important;
  border: 2px solid #C9A54A !important;
  border-radius: 8px !important;
  color: #FFFFFF !important;
}

/* Override stili rotti con alta priorit√† */
.dnd5e.sheet.actor.brancalonia-sheet * {
  box-sizing: border-box !important;
}

/* Fix z-index issues */
.dnd5e.sheet.actor.brancalonia-sheet .window-content {
  position: relative !important;
  z-index: 1 !important;
}

/* Rimuovi decorazioni che rompono il layout */
.dnd5e.sheet.actor.brancalonia-sheet .sheet-header::before,
.dnd5e.sheet.actor.brancalonia-sheet .sheet-header::after {
  display: none !important;
}