/* =========================
   BRANCALONIA CSS v13
   Updated for Foundry VTT v13
   ========================= */

/* Font Definitions */
@font-face {
  font-family: "Tracker Grunge";
  src: url("./fonts/tracker_grunge_regular.ttf");
}
@font-face {
  font-family: "EB Garamond Regular";
  src: url("./fonts/ebgaramond_regular.ttf");
}
@font-face {
  font-family: "EB Garamond Italic";
  src: url("./fonts/ebgaramond_italic.ttf");
}
@font-face {
	font-family: "EB Garamond Bold";
	src: url("./fonts/ebgaramond_bold.ttf");
}
@font-face {
	font-family: "IM Fell";
	src: url("./fonts/im_fell_english_regular.ttf");
}
@font-face {
	font-family: "Benton";
	src: url("./fonts/bentonsans_regular.otf");
}

/* =========================
   V13 Theme Variables - Support light/dark mode
   ========================= */
:root {
  --brancalonia-red: #A61B19;
  --brancalonia-bg-example: #d2ccc8;
}

/* Dark mode overrides */
@media (prefers-color-scheme: dark) {
  :root {
    --brancalonia-red: #C42421;
    --brancalonia-bg-example: #3a3633;
  }
}

/* Journal Entry Styles */
.journal-entry-page h1,
.journal-entry-content h1 {
	font-family: "EB Garamond Bold";
	font-size: 48px;
	text-align: center;
	border: none;
	color: var(--brancalonia-red);
}

.journal-entry-page h2,
.journal-entry-content h2 {
	font-family: "EB Garamond Bold";
	font-size: 36px;
	border: none;
	margin-left: 5px;
	color: var(--brancalonia-red);
}

.journal-entry-page h3,
.journal-entry-content h3 {
	font-family: "EB Garamond Bold";
	font-size: 26px;
	border: none;
	margin-left: 5px;
	color: var(--brancalonia-red);
}

/* Brancalonia Module Specific Styles */
.brancalonia-mod .window-content h1 {
  font-family: "EB Garamond Bold";
  font-size: 48px;
  text-align: center;
  border: none;
  color: var(--brancalonia-red);
}

.brancalonia-mod .window-content h2 {
  font-family: "EB Garamond Bold";
  font-size: 36px;
  border: none;
  margin-left: 5px;
  color: var(--brancalonia-red);
}

.brancalonia-mod .window-content h3 {
  font-family: "EB Garamond Bold";
  font-size: 26px;
  border: none;
  margin-left: 5px;
  color: var(--brancalonia-red);
}

.brancalonia-mod h4 {
  font-family: "Headline HPLHS", "EB Garamond Bold", serif;
  font-size: 24px;
  border: none;
  margin-left: 5px;
  letter-spacing: 1px;
}

/* Text Styles */
.brancalonia-mod .citation p {
	font-family: "IM Fell";
	font-size: 18px;
	text-indent:0.2cm;
	text-align: justify;
	font-style: italic;
}

.brancalonia-mod p {
	font-family: "EB Garamond Regular";
	font-size: 18px;
	text-indent:0.2cm;
	text-align: justify;
}

.brancalonia-mod li {
	font-family: "EB Garamond Regular";
	font-size: 18px;
}	 

.brancalonia-mod em {
  font-family: "EB Garamond Italic";
  font-size: 18px;
}

.brancalonia-mod .journal-entry-page table td {
	padding: 5px;
}

/* Logos - Updated for v13 */
.brancalonia-mod .logo {
	border: none;
	content: url('./assets/artwork/logo_generique.webp');
	display: block;
	margin-left: auto;
	margin-right: auto;
	width: 20%;
}

.brancalonia-mod .logo_systeme {
	border: none;
	content: url('./assets/artwork/logo_systeme.webp');
	display: block;
	margin-left: auto;
	margin-right: auto;
	width: 20%;
}

.brancalonia-mod .logo_aventure {
	border: none;
	content: url('./assets/artwork/logo_aventure.webp');
	display: block;
	margin-left: auto;
	margin-right: auto;
	width: 20%;
}

/* Note and Credits */
.brancalonia-mod .note p {
	font-family: "EB Garamond Regular";
	font-size: 18px;
	border: none;
	margin-left: 5px;
	color: var(--brancalonia-red);
}

.brancalonia-mod .credits {
	font-family: "EB Garamond Regular";
	font-size: 16px;
	text-align: center;
}

/* Layout Elements */
.brancalonia-mod .portrait {
	float: left; 
	margin-right: 4px;
	width: 25%;
}

.brancalonia-mod .exemple {
	background-color: var(--brancalonia-bg-example);
	text-indent:0cm;
	border-style: solid;
	border: 2px solid var(--color-border-dark, black);
	border-radius: 8px 8px 8px 8px;
	box-shadow: 0 8px 8px -7px var(--color-shadow-dark); 
	padding : 10px 14px 16px 18px;
}

/* Table Styles - Updated for v13 */
.brancalonia-mod table {
	width: 95%;
	border-collapse: collapse;
	border: solid 2px;
	margin-left: 0.5em;
	margin-right: 0.5em;
	text-align: center;
}

.brancalonia-mod table thead,
.brancalonia-mod table th {
	font-family: "EB Garamond Regular";
	color: white;
	background-color: var(--color-text-dark, black);
	font-weight: bold;
	font-size: 22px;
	letter-spacing: 2px;
}

.brancalonia-mod table tbody {
	font-family: "EB Garamond Regular";
	font-size: 18px;
	height: 17px;
}

.brancalonia-mod table td {
	border: 1px solid;
}

.brancalonia-mod hr {
	border: 1px solid;
}

/* Image Layouts */
.brancalonia-mod.image-large {
	margin-right: 35px;
}
  
.brancalonia-mod.image-large img {
	width: 100%;
	object-fit: contain;
}

.brancalonia-mod.gamme {
	border: none;
}

/* Column Layouts */
.brancalonia-mod .two-col {
	display: grid;
	place-items: center;
	grid-template-columns: 1fr 1fr;
}
  
.brancalonia-mod .two-col p:first-child {
	padding-right: 10px; 
	align-self: start;
}
  
.brancalonia-mod .three-col {
	display: grid;
	place-items: center;
	grid-template-columns: 1fr 1fr 1fr;
}
  
.brancalonia-mod .two-col p {
	text-align: center;
}
  
/* Inserts and Floats */
.brancalonia-mod .insert-droite {
	max-width: 45%;
	padding-right: 10px;
	padding-left: 5px;
	margin-right: 10px;
	break-inside: avoid;
	font-style: normal;
	float: right;
	border: none;
	text-align: center;
}
  
.brancalonia-mod .insert-pnj-droite p,
.brancalonia-mod .insert-pnj-droite-mini p,
.brancalonia-mod .insert-pnj-gauche p {
	text-align: center;
}
  
.brancalonia-mod .insert-gauche {
	max-width: 40%;
	padding-right: 5px;
	padding-left: 10px;
	margin-left: 10px;
	break-inside: avoid;
	font-style: normal;
	float: left;
	border: none;
	text-align: center;
}
  
.brancalonia-mod .insert-pnj-droite {
	max-width: 39%;
	padding-right: 1px;
	padding-left: 1px;
	margin-right: 0px;
	break-inside: avoid;
	font-style: normal;
	float: right;
	border: none;
	text-align: center;
}
  
.brancalonia-mod .insert-pnj-droite-mini {
	max-width: 30%;
	padding-right: 1px;
	padding-left: 1px;
	margin-right: 0px;
	break-inside: avoid;
	font-style: normal;
	float: right;
	border: none;
	text-align: center;
}
  
.brancalonia-mod .insert-pnj-gauche {
	max-width: 39%;
	padding-right: 1px;
	padding-left: 1px;
	margin-left: 0px;
	break-inside: avoid;
	font-style: normal;
	float: left;
	border: none;
	text-align: center;
}

/* Special Elements */
.brancalonia-mod .agenda td {
	background-color : #666666; 
}

.brancalonia-mod.conseil-image {
	width: 50px;
	height: 50px;
	border: none;
	float: left;
	margin-right: 10px;
}

.brancalonia-mod.conseil-foundry {
	background-color: #ff66008e;
	text-indent: 0cm;
	border-style: solid;
	border: 2px solid var(--color-border-dark, black);
	border-radius: 8px 8px 8px 8px;
	box-shadow: 0 8px 8px -7px var(--color-shadow-dark); 
	padding : 10px 14px 16px 18px;
	font-size: larger;
}

/* Journal Background - Updated for v13 */
.journal-sheet .journal-entry-content,
.sheet.journal-entry .journal-entry-content {
	background-image:url('./assets/artwork/fond.webp');
	background-repeat: repeat;
	background-size: cover;
}

/* Link Styles - Updated for v13 */
a.content-link, 
a.inline-roll {
	background: transparent;
	border: 0px;
	color: inherit;
}

.gamme table td {
	border: none;
}

/* Font Size Updates for v13 */
.sheet.journal-entry .pages-list .page-heading, 
.sheet.journal-entry .pages-list .heading-link,
.directory .directory-item.document,
.system-cthack,
.system-dnd5e {
	font-size: var(--font-size-16, 16px);
}

/* V13 Compatibility Layer */
.app.journal-sheet .window-content,
.app.actor-sheet .window-content,
.app.item-sheet .window-content {
	/* Ensure proper text rendering in v13 */
	font-rendering: optimizeLegibility;
}

/* Dark Mode Specific Adjustments */
@media (prefers-color-scheme: dark) {
  .brancalonia-mod .exemple {
    background-color: rgba(58, 54, 51, 0.8);
    color: var(--color-text-light);
  }
  
  .brancalonia-mod.conseil-foundry {
    background-color: rgba(255, 102, 0, 0.3);
  }
  
  .journal-sheet .journal-entry-content {
    background-blend-mode: multiply;
    background-color: rgba(0, 0, 0, 0.3);
  }
}
